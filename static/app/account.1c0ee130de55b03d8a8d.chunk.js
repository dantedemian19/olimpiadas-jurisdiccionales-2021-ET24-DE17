(self.webpackChunkprueba=self.webpackChunkprueba||[]).push([[809],{36049:(e,a,t)=>{t.r(a),t.d(a,{default:()=>account});var s=t(89526),r=t(7694),l=t(58387),n=t(50618),o=t(24052),m=t(2984),c=t(77846),i=t(19349),g=t(7193),d=t(10707),u=t(83526);const v={getSession:d.Gg,saveAccountSettings:u.wL,reset:u.mc},p=(0,m.connect)((({authentication:e})=>({account:e.account,isAuthenticated:e.isAuthenticated})),v)((e=>{(0,s.useEffect)((()=>(e.getSession(),()=>{e.reset()})),[]);return s.createElement("div",null,s.createElement(l.Z,{className:"justify-content-center"},s.createElement(n.Z,{md:"8"},s.createElement("h2",{id:"settings-title"},s.createElement(c.Translate,{contentKey:"settings.title",interpolate:{username:e.account.login}},"User settings for ",e.account.login)),s.createElement(i.at,{id:"settings-form",onValidSubmit:(a,t)=>{const s=Object.assign(Object.assign({},e.account),t);e.saveAccountSettings(s),a.persist()}},s.createElement(i.q0,{className:"form-control",name:"firstName",label:(0,c.translate)("settings.form.firstname"),id:"firstName",placeholder:(0,c.translate)("settings.form.firstname.placeholder"),validate:{required:{value:!0,errorMessage:(0,c.translate)("settings.messages.validate.firstname.required")},minLength:{value:1,errorMessage:(0,c.translate)("settings.messages.validate.firstname.minlength")},maxLength:{value:50,errorMessage:(0,c.translate)("settings.messages.validate.firstname.maxlength")}},value:e.account.firstName,"data-cy":"firstname"}),s.createElement(i.q0,{className:"form-control",name:"lastName",label:(0,c.translate)("settings.form.lastname"),id:"lastName",placeholder:(0,c.translate)("settings.form.lastname.placeholder"),validate:{required:{value:!0,errorMessage:(0,c.translate)("settings.messages.validate.lastname.required")},minLength:{value:1,errorMessage:(0,c.translate)("settings.messages.validate.lastname.minlength")},maxLength:{value:50,errorMessage:(0,c.translate)("settings.messages.validate.lastname.maxlength")}},value:e.account.lastName,"data-cy":"lastname"}),s.createElement(i.q0,{name:"email",label:(0,c.translate)("global.form.email.label"),placeholder:(0,c.translate)("global.form.email.placeholder"),type:"email",validate:{required:{value:!0,errorMessage:(0,c.translate)("global.messages.validate.email.required")},minLength:{value:5,errorMessage:(0,c.translate)("global.messages.validate.email.minlength")},maxLength:{value:254,errorMessage:(0,c.translate)("global.messages.validate.email.maxlength")}},value:e.account.email,"data-cy":"email"}),s.createElement(i.q0,{type:"select",id:"langKey",name:"langKey",className:"form-control",label:(0,c.translate)("settings.form.language"),value:e.account.langKey,"data-cy":"langKey"},g.k1.map((e=>s.createElement("option",{value:e,key:e},g.Mj[e].name)))),s.createElement(o.Z,{color:"primary",type:"submit","data-cy":"submit"},s.createElement(c.Translate,{contentKey:"settings.form.button"},"Save"))))))}));var h=t(67708),f=t(72028);const w={getSession:d.Gg,savePassword:f.vW,reset:f.mc},b=(0,m.connect)((({authentication:e})=>({account:e.account,isAuthenticated:e.isAuthenticated})),w)((e=>{const[a,t]=(0,s.useState)("");(0,s.useEffect)((()=>(e.reset(),e.getSession(),()=>{e.reset()})),[]);return s.createElement("div",null,s.createElement(l.Z,{className:"justify-content-center"},s.createElement(n.Z,{md:"8"},s.createElement("h2",{id:"password-title"},s.createElement(c.Translate,{contentKey:"password.title",interpolate:{username:e.account.login}},"Password for ",e.account.login)),s.createElement(i.at,{id:"password-form",onValidSubmit:(a,t)=>{e.savePassword(t.currentPassword,t.newPassword)}},s.createElement(i.q0,{name:"currentPassword",label:(0,c.translate)("global.form.currentpassword.label"),placeholder:(0,c.translate)("global.form.currentpassword.placeholder"),type:"password",validate:{required:{value:!0,errorMessage:(0,c.translate)("global.messages.validate.newpassword.required")}},"data-cy":"currentPassword"}),s.createElement(i.q0,{name:"newPassword",label:(0,c.translate)("global.form.newpassword.label"),placeholder:(0,c.translate)("global.form.newpassword.placeholder"),type:"password",validate:{required:{value:!0,errorMessage:(0,c.translate)("global.messages.validate.newpassword.required")},minLength:{value:4,errorMessage:(0,c.translate)("global.messages.validate.newpassword.minlength")},maxLength:{value:50,errorMessage:(0,c.translate)("global.messages.validate.newpassword.maxlength")}},onChange:e=>t(e.target.value),"data-cy":"newPassword"}),s.createElement(h.Z,{password:a}),s.createElement(i.q0,{name:"confirmPassword",label:(0,c.translate)("global.form.confirmpassword.label"),placeholder:(0,c.translate)("global.form.confirmpassword.placeholder"),type:"password",validate:{required:{value:!0,errorMessage:(0,c.translate)("global.messages.validate.confirmpassword.required")},minLength:{value:4,errorMessage:(0,c.translate)("global.messages.validate.confirmpassword.minlength")},maxLength:{value:50,errorMessage:(0,c.translate)("global.messages.validate.confirmpassword.maxlength")},match:{value:"newPassword",errorMessage:(0,c.translate)("global.messages.error.dontmatch")}},"data-cy":"confirmPassword"}),s.createElement(o.Z,{color:"success",type:"submit","data-cy":"submit"},s.createElement(c.Translate,{contentKey:"password.form.button"},"Save"))))))})),account=({match:e})=>s.createElement("div",null,s.createElement(r.Z,{path:`${e.url}/settings`,component:p}),s.createElement(r.Z,{path:`${e.url}/password`,component:b}))}}]);